/* **********************************************
     Begin admin.header.js
********************************************** */function checkForMaxIcons(){"use strict";jQuery("#active-icon-list").children().length>=7?jQuery("#social-icon-max").removeClass("hidden"):jQuery("#social-icon-max").addClass("hidden")}function updateActiveIcons(e){"use strict";var t="";e("#active-icons ul").children("li").each(function(){if(e(this).children().length>0&&e(this).children("img").attr("src").length>0){t+=e(this).children("img").attr("src");e(this).attr("data-url")!==undefined&&e(this).attr("data-url")!==null&&(t+="|"+e(this).attr("data-url"));t+=";"}});e("#active-social-icons").val(t)}function updateIconValues(e){"use strict";e!==undefined&&!jQuery("#active-icon-url").hasClass("hidden")&&cancelSettingIconURL(jQuery);updateActiveIcons(jQuery);updateAvailableIcons(jQuery);jQuery(this).css("border","0");jQuery.post(ajaxurl,{action:"standard_save_social_icons",nonce:jQuery("#standard-save-social-icons-nonce").text(),availableSocialIcons:jQuery("#available-social-icons").val(),activeSocialIcons:jQuery("#active-social-icons").val(),updateSocialIcons:"true"},function(t){parseInt(t,10)===0&&jQuery("#active-icon-list > li").each(function(){var t=e===undefined?!1:jQuery(e.srcElement).parents("ul").attr("id")==="active-icon-list";setupIconClickHander(jQuery,jQuery(this),t)})});checkForMaxIcons()}function cancelSettingIconURL(e){"use strict";e("#social-icon-url").siblings("input[type=text]:first").val("");e("#active-icon-url").addClass("hidden");e(".active-icon").removeClass("active-icon");updateIconValues()}function saveIconUrl(e,t){"use strict";t.preventDefault();if(e.trim(e("#social-icon-url").val()).length>0){var n=e("#social-icon-url").val();e("li.active-icon").attr("data-url",n);e("#social-icon-url").val("");e("#active-icon-url").addClass("hidden");e(".active-icon").removeClass("active-icon");updateIconValues();updateActiveIcons(e)}else{e("#active-icon-url").addClass("hidden");e(".active-icon").removeClass("active-icon")}e(".icon-url").val("")}function prepareIconMediaUploader(e){"use strict";e("#upload-social-icon").click(function(t){t.preventDefault();socialIconsShowMediaUploader(e);e("#TB_iframeContent").load(function(){var t=setInterval(function(){e("#TB_iframeContent").contents().find("#media-items").children().length>0&&socialOptionsHideUnusedFields(e,t)},500);socialOptionsHideUnusedFields(e)})})}function displayIcons(e,t,n){"use strict";var r,i,s,o,u,a;if(e("#"+t).length>0){e("#"+n+" > ul").children("li").remove();r=e("#"+t).val().split(";");e(r).each(function(){if(this.length>0){i=this.split("|");s=null;o=null;if(i.length===1)o=i[0];else{o=i[0];s=i[1]}a=e("<img />").attr("src",o);u=e("<li />").attr("data-url",s).append(a);n==="active-icons"&&setupIconClickHander(e,u);e("#"+n).children("ul").append(u)}})}}function overHandler(){"use strict";jQuery(this).css("border","1px dashed #ccc")}function makeSortable(e,t,n){"use strict";e(t).children("ul").sortable({connectWith:n+" > ul",update:updateIconValues,over:overHandler});e(n).children("ul").sortable({connectWith:t+" > ul",update:updateIconValues,over:overHandler})}function setupIconClickHander(e,t,n){"use strict";t.click(function(t){var n="";e(t.srcElement).attr("src")!==""&&e(t.srcElement).attr("src")!==undefined&&e(t.srcElement).attr("src").toString().indexOf("rss.png")>0&&(n=e("#standard-wordpress-rss-url").text());e("#active-icon-url").is(":visible")?e(this).parent().siblings("#active-icon-url").children("input[type=text]").val(""):e(this).parent().siblings("#active-icon-url").removeClass("hidden");e(this).parent().siblings("#active-icon-url").children("input[type=text]").val(e(this).attr("data-url"));e(".active-icon").removeClass("active-icon");e(this).addClass("active-icon");updateIconValues();makeSortable(e,"#active-icons","#available-icons");if(""!==n){e("#social-icon-url").val(n).attr("disabled","disabled");e("#social-rss-icon-controls").removeClass("hidden");e("#social-icon-controls").addClass("hidden")}else{e("#social-icon-url").removeAttr("disabled");e("#social-icon-controls").removeClass("hidden");e("#social-rss-icon-controls").addClass("hidden")}})}function updateAvailableIcons(e){"use strict";var t="";e("#available-icons ul").children("li").each(function(){e(this).children("img").length>0&&e(this).children("img").attr("src").length>0&&(t+=e(this).children("img").attr("src")+";")});e("#available-social-icons").val(t)}function makeIconsRemoveable(e){"use strict";e("#delete-icons").droppable({over:overHandler,drop:function(t,n){t.srcElement=t.srcElement||n.draggable.children(":first");if(isStandardIcon(e(t.srcElement)))e.post(ajaxurl,{action:"standard_delete_social_icons",nonce:e.trim(e("#standard-delete-social-icon-nonce").text())},function(t){e("#standard-delete-social-icons").length===0&&e("#message-container").append(t);e("#standard-hide-delete-social-icon-message").click(function(t){t.preventDefault();e("#standard-delete-social-icons").remove()})});else{e(t.srcElement).hide().attr("src","");e(t.srcElement).parent().hide();updateIconValues();updateAvailableIcons(e);e(this).css("border",0)}}});e("#available-icons > ul > li").click(function(){var t=e(this).children("img");e(window).keydown(function(n){n.keyCode===93&&e(window).keydown(function(n){if(n.keyCode===8){t.hide().attr("src","");updateAvailableIcons(e);e(window).unbind(n)}})})})}function socialOptionsHideUnusedFields(e,t){"use strict";var n,r,i;e("#tab-type_url",e("#TB_iframeContent")[0].contentWindow.document).hide();n=!1;r=e(".describe tbody tr, .savebutton",e("#TB_iframeContent")[0].contentWindow.document);r.each(function(){e(this).hasClass("submit")||e(this).hide()});i=e('.savesend input[type="submit"]',e("#TB_iframeContent")[0].contentWindow.document);if(i.length>0&&i!==null){i.val("Upload Social Icon");n=!0}t!==null&&n&&clearInterval(t)}function isStandardIcon(e){"use strict";return e.attr("src").toString().indexOf("/images/social/small/")>0}function socialIconsShowMediaUploader(){"use strict";tb_show("","media-upload.php?type=image&TB_iframe=true");window.restore_editor=window.send_to_editor;window.send_to_editor=function(e){var t=jQuery(e).children("img").length===1?jQuery(e).children("img"):jQuery(e);jQuery("#available-social-icons").val(jQuery("#available-social-icons").val()+";"+t.attr("src"));displayIcons(jQuery,"available-social-icons","available-icons");updateIconValues();tb_remove();window.send_to_editor=window.restore_editor}}function sitemapPageID(e){"use strict";var t,n,r,i,s;r=-1;e("script").each(function(){if(e(this).attr("src")&&e(this).attr("src").indexOf("admin.min.js")>0){i=e(this).attr("src").split("?");for(t=0;t<i.length;t++){s=i[t].split("&");s=s[0].split("=");s[1]!==undefined&&s[1].length>0&&"using_sitemap"===s[0]&&(r=parseInt(s[1],10))}}});return r}function togglePostBodyContent(e){"use strict";e("#page_template").children(":selected").text().toLowerCase()==="sitemap"?e("#post-body-content").children(":not(#titlediv)").css("visibility","hidden"):e("#post-body-content").children(":not(#titlediv)").css("visibility","visible")}function cleanTitle(e,t){"use strict";var n=[];e(t).each(function(){0!==e.trim(this).length&&n.push(this)});return n}function stripSpecialCharacters(e,t){"use strict";return e.trim(t).replace(/[^\w\s]/gi,"")}function getMetaDescription(e,t){"use strict";var n=t.val();e.trim(n).length===0&&(n="<em>This description will be automatically generated by search engines unless you add a Meta Description below.</em>");return n}function updateMetaDescription(e,t){"use strict";var n,r,i,s,o,u,a,f;e("#character-count").text(140-parseInt(t.val().length,10));e("#description").html(getMetaDescription(e,t));r=e.trim(e("#post-title").text()).split(" ");r=cleanTitle(e,r);i=[];if(0<r.length&&0<e.trim(r[0]).length)for(u=0,a=r.length;u<a;u++){s=stripSpecialCharacters(e,encodeURIComponent(r[u]));if(""!==s){o=new RegExp("\\b"+s+"\\b","gi");null!==(n=e("#standard_seo_post_meta_description").val().match(o))&&i.push(n)}}else e("#description").html(getMetaDescription(e,t));e(i).each(function(){for(u=0,a=this.length;u<a;u++){s=stripSpecialCharacters(e,encodeURIComponent(r[u]));if(""!==s){o=new RegExp("\\b"+f+"\\b","g");e("#description").html(e("#description").html().replace(o,"<strong>"+f+"</strong>"))}}})}(function(e){"use strict";e(window).load(function(){if(0!==e("#_wpnonce-custom-header-upload").length){e(".form-table:last tr:first").hide();if(e("#header-bottom").length>0){e("#header-top").hide();e(".form-table:last").addClass("disabled");e(".form-table:last input").attr("disabled","disabled");var t,n;n=e("<td />").attr("colspan","2").html('<p class="description">Remove header image to activate header text.</p>');t=e("<tr />").append(n);e(".form-table:last").prepend(t);e(".form-table:last a").hide();e(".form-table.disabled").hide().prev().hide()}else{e("#header-top").show();e(".iris-picker, .iris-palette").mousedown(function(t){e(this).hasClass("iris-palette")&&e(this).trigger("click");e("#desc").removeAttr("style").attr("style","color: "+e("#text-color").val()+" !important")});e('input[type="button"].wp-picker-default').click(function(t){e("#desc").attr("style","color: #7a7a7a")})}}})})(jQuery);(function(e){"use strict";e(function(){e('.wp-submenu-head:contains("Standard")').next().children(":first").hide();var t,n;t=document.location.href.split("tab=");if(t!==undefined&&t!==null&&t.length>1){n=t[1];n.indexOf("_global_")>0&&e('a:contains("Global")').parent().addClass("current");n.indexOf("_presentation_")>0&&e('a:contains("Presentation")').parent().addClass("current");n.indexOf("_social_")>0&&e('a:contains("Social")').parent().addClass("current");n.indexOf("_publishing_")>0&&e('a:contains("Publishing")').parent().addClass("current")}else e("a.wp-menu-open").text().toLowerCase()==="standard"&&e('a:contains("Global")').parent().addClass("current")})})(jQuery);(function(e){"use strict";e(function(){var t=e("<div />").attr("id","standard-post-editor").attr("class","warning").append(e("<p />").html("<strong>Standard has detected a long post title. Search engines prefer titles with 70 characters or less.</strong>"));e.trim(e("#title").val()).length>=70&&t.insertBefore(e("#title"));e("#title").keydown(function(){e.trim(e(this).val()).length>=70?t.insertBefore(e("#title")):t.remove()});"post-format-link"!==e("#post-formats-select").children(":checked").attr("id")&&e("#link_format_url").hide();e("#post-formats-select").children().click(function(){"post-format-link"===e(this).attr("id")?e("#link_format_url").show():e("#link_format_url").hide()})})})(jQuery);(function(e){"use strict";e(function(){var t,n,r;t=e("#google_plus");if(0<t.length){n="Use long URL, not vanity URL.";r=e("<span />").attr("class","description").html("&nbsp;"+n);r.insertAfter(t)}})})(jQuery);(function(e){"use strict";e(function(){e("#generate_privacy_policy").click(function(t){t.preventDefault();e.post(ajaxurl,{action:"standard_generate_privacy_policy_page",nonce:e.trim(e("#standard-privacy-policy-nonce").text()),generatePrivacyPolicy:"true"},function(t){if(parseInt(t,10)>0){e("#generate-privacy-policy-wrapper").hide("fast",function(){e("#privacy_policy_id").text(t);e("#edit-privacy-policy").attr("href","post.php?post="+t+"&action=edit");e("#has-privacy-policy-wrapper").show()});e("#delete-privacy-policy-wrapper").show()}})});e("#delete_privacy_policy").click(function(t){t.preventDefault();e.post(ajaxurl,{action:"standard_delete_privacy_policy_page",nonce:e.trim(e("#standard-privacy-policy-nonce").text()),page_id:e("#privacy_policy_id").text(),deletePrivacyPolicy:"true"},function(t){parseInt(t,10)===0&&e("#has-privacy-policy-wrapper").hide("fast",function(){e("#generate-privacy-policy-wrapper").show()})})});e("#generate_comment_policy").click(function(t){t.preventDefault();e.post(ajaxurl,{action:"standard_generate_comment_policy_page",nonce:e.trim(e("#standard-comment-policy-nonce").text()),generateCommentPolicy:"true"},function(t){parseInt(t,10)>0&&e("#generate-comment-policy-wrapper").hide("fast",function(){e("#comment_policy_id").text(t);e("#edit-comment-policy").attr("href","post.php?post="+t+"&action=edit");e("#has-comment-policy-wrapper").show()})})});e("#delete_comment_policy").click(function(t){t.preventDefault();e.post(ajaxurl,{action:"standard_delete_comment_policy_page",nonce:e.trim(e("#standard-comment-policy-nonce").text()),page_id:e("#comment_policy_id").text(),deleteCommentPolicy:"true"},function(t){parseInt(t,10)===0&&e("#has-comment-policy-wrapper").hide("fast",function(){e("#generate-comment-policy-wrapper").show()})})})})})(jQuery);(function(e){"use strict";e(function(){e("#standard-hide-seo-message").length>0&&e("#standard-hide-seo-message").click(function(t){t.preventDefault();e.post(ajaxurl,{action:"standard_save_wordpress_seo_message_setting",nonce:e.trim(e("#standard-hide-seo-message-nonce").text()),hideSeoNotification:"true"},function(t){parseInt(t,10)===0&&e("#standard-hide-seo-message-notification").hide()})})})})(jQuery);(function(e){"use strict";e(function(){e("#site_mode").val()==="online"&&e("#offline_message").parent().parent().hide();e("#site_mode").change(function(){var t;t=e("#offline_message").parent().parent();e("#site_mode").val()==="online"?t.hide():t.show()})})})(jQuery);(function(e){"use strict";e(function(){if(0<e("#available-icon-list").length){e(".social-icons-wrapper").siblings("table").hide();prepareIconMediaUploader(e);displayIcons(e,"available-social-icons","available-icons");displayIcons(e,"active-social-icons","active-icons");makeSortable(e,"#active-icons","#available-icons");makeIconsRemoveable(e);e("#set-social-icon-url").click(function(t){saveIconUrl(e,t)});e(document).keypress(function(t){if(t.keyCode===13){t.preventDefault();saveIconUrl(e,t)}});e("#cancel-social-icon-url").click(function(t){t.preventDefault();cancelSettingIconURL(e)});checkForMaxIcons();e("#reset-social-icons").click(function(t){t.preventDefault();var n=e(this);e.post(ajaxurl,{action:"standard_reset_social_icons",nonce:e.trim(e("#standard-reset-social-icons").text())},function(){n.siblings("form").submit();location.reload(!0)})})}})})(jQuery);(function(e){"use strict";e(function(){if(e("select[name=page_template]").length>0&&e("#page_template").length===0){sitemapPageID(e)>-1&&e('option[value="template-sitemap.php"]').attr("disabled","disabled");e("select[name=page_template]").change(function(){e('option:selected[value="template-sitemap.php"]').length>0?e('option[value="template-sitemap.php"]').attr("disabled","disabled"):e('option[value="template-sitemap.php"]').removeAttr("disabled")})}if(e('select[name="page_template"]').length>0&&e("#page_template").length>0&&sitemapPageID(e)>-1){e("#page_template").children("option").each(function(){e(this).val()==="template-sitemap.php"&&e(this).attr("disabled","disabled")});togglePostBodyContent(e);e("#page_template").change(function(){togglePostBodyContent(e)})}})})(jQuery);(function(e){"use strict";e(function(){e("h4").each(function(){var t=e(this).parent().parent().parent();t.attr("id")!==undefined&&t.attr("id")!==!1&&t.attr("id").indexOf("standard-")>0&&e(this).parents(".widget-top").addClass("standard-widget-top")})})})(jQuery);(function(e){"use strict";e(function(){if(e("#postdivrich").length>0&&e("#editable-post-name").text().toLowerCase()==="search-results"){e("#postdivrich").hide();e(".postbox-container:last").hide();e(".postbox:not(:first)").hide()}})})(jQuery);(function(e){"use strict";e(function(){if(0<e("#post-title").length){e("#post-title").text(e("#title").val());e("#blog-title").text(e("#site-title").text());e("#title").keyup(function(){e("#post-title").text(e(this).val())});setInterval(function(){e("#sample-permalink").text().length>0&&e("#sample-permalink").text().indexOf("http://")===0&&e("#permalink").text(e("#sample-permalink").text())},1e3);setInterval(function(){e("#timestamp > b").text().indexOf("@")!==-1?e("#date").text(e("#timestamp > b").text().split("@")[0]):e("#date").text(e("#todays-date").text())},1e3);updateMetaDescription(e,e("#standard_seo_post_meta_description"));e("#standard_seo_post_meta_description").keyup(function(){updateMetaDescription(e,e(this))})}})})(jQuery);