function launchMediaUploader(a){return wp.media.frames.file_frame=wp.media({title:"Select "+a,button:{text:"Select "+a},multiple:!1})}var views={};!function(a){"use strict";a(function(){a(".button.upload").on("click",function(b){var c=a(this).parents("tr"),d=c.find("th").html(),e=c.find("input[type=hidden]"),f=c.find("img"),g=c.find(".button.delete"),h=a(this).attr("id"),i=views[h];b.preventDefault(),i||(i=launchMediaUploader(d),i.on("ready",function(){a(".media-sidebar").hide(),a(".attachments").css("right",0),a(".media-toolbar").css("right",20)}),i.on("select",function(){var a=i.state().get("selection").first().toJSON();e.val(a.url),f.attr("src",a.url).show(),g.show()}),views[h]=i),i.open()}),a(".button.delete").click(function(){a(this).parent().find("div").find("img").attr("src",""),a(this).parent().find("input[type=hidden]").val(""),a(this).hide()})})}(jQuery);